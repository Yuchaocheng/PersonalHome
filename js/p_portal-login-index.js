(self.webpackChunk_ice_lite_scaffold=self.webpackChunk_ice_lite_scaffold||[]).push([[143],{5766:function(t){t.exports={captcha:"captcha--VPzEWNNU"}},542:function(t){t.exports={captcha:"captcha--I0xtrCL7","captcha-input":"captcha-input--HWfP9F4z"}},5510:function(t,n,e){"use strict";e.r(n),e.d(n,{Login:function(){return U}});var r=e(2502),i=e(9129),o=e(3994),a=e(4041);e(7363);var u=e(3903),c=e(4099),s=e.n(c),l=e(4447),d=e(4290),p=e(542),f=e.n(p),h=e(9528),g=e(4144),m=s().bind(f()),v=l.Form.Item,y={labelCol:{fixedSpan:8},wrapperCol:{span:"14"}},Z=function(){null===u.m8||void 0===u.m8||u.m8.push("/portal/register")},b=function(t){console.log(t,"error"),l.Notification.error({title:"\u767B\u5F55\u5931\u8D25",content:(null==t?void 0:t.errorMsg)||"\u767B\u5F55\u5931\u8D25"})},U=function(t){var n=(0,u.QT)(d.x4,{onSuccess:Z,onError:b}).request,e=(0,o.Z)(h.Z.useModel("login"),1)[0];return l.Field.useField(),(0,a.tZ)("div",{className:m("login"),children:(0,a.BX)(l.Form,(0,i.Z)((0,r.Z)({style:{width:"60%"}},y),{colon:!0,children:[(0,a.tZ)(v,{name:"username",label:"\u7528\u6237\u540D",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",children:(0,a.tZ)(l.Input,{})}),(0,a.tZ)(v,{name:"password",label:"\u5BC6\u7801",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801",children:(0,a.tZ)(l.Input.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})}),(0,a.tZ)(v,{name:"captcha",label:"\u9A8C\u8BC1\u7801",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",children:(0,a.tZ)(l.Input,{addonAfter:(0,a.tZ)(g.U,{})})}),(0,a.BX)(v,{label:" ",colon:!1,children:[(0,a.tZ)(l.Form.Submit,{type:"primary",validate:!0,onClick:function(t,o,a){o||n((0,i.Z)((0,r.Z)({},t),{sid:e.sid}))},children:"\u767B\u5F55"}),(0,a.tZ)(l.Button,{type:"secondary",style:{marginLeft:"20px"},text:!0,onClick:function(){null===u.m8||void 0===u.m8||u.m8.push("/portal/register")},children:"\u53BB\u6CE8\u518C"})]})]}))})};n.default=U},4099:function(t,n,e){var r,i=e(4724).Z;!function(){"use strict";var e={}.hasOwnProperty;function o(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var a=void 0===r?"undefined":i(r);if("string"===a||"number"===a)t.push(this&&this[r]||r);else if(Array.isArray(r))t.push(o.apply(this,r));else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var u in r)e.call(r,u)&&r[u]&&t.push(this&&this[u]||u)}}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0!==(r=(function(){return o}).apply(n,[]))&&(t.exports=r)}()},4144:function(t,n,e){"use strict";e.d(n,{U:function(){return U}});var r,i=e(3994),o=e(4041),a=e(7363),u=e(4099),c=e.n(u),s=e(5766),l=e.n(s),d=e(3903),p=e(4290),f={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},h=new Uint8Array(16);function g(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(h)}for(var m=[],v=0;v<256;++v)m.push((v+256).toString(16).slice(1));var y=function(t,n,e){if(f.randomUUID&&!n&&!t)return f.randomUUID();var r=(t=t||{}).random||(t.rng||g)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(var i=0;i<16;++i)n[e+i]=r[i];return n}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(m[t[n+0]]+m[t[n+1]]+m[t[n+2]]+m[t[n+3]]+"-"+m[t[n+4]]+m[t[n+5]]+"-"+m[t[n+6]]+m[t[n+7]]+"-"+m[t[n+8]]+m[t[n+9]]+"-"+m[t[n+10]]+m[t[n+11]]+m[t[n+12]]+m[t[n+13]]+m[t[n+14]]+m[t[n+15]]).toLowerCase()}(r)},Z=e(9528),b=c().bind(l()),U=function(t){var n=(0,d.QT)(p.an),e=n.data,r=n.request,u=n.refresh,c=(0,i.Z)(Z.Z.useModel("login"),2),s=c[0],l=c[1];return(0,a.useEffect)(function(){var t=s.sid||localStorage.getItem("sid");t||(t=y(),localStorage.setItem("sid",t)),t!==s.sid&&l.update({sid:t}),r(t)},[]),(0,o.tZ)("span",{className:b("captcha"),dangerouslySetInnerHTML:{__html:e},onClick:u})}},4290:function(t,n,e){"use strict";e.d(n,{HE:function(){return d},an:function(){return s},x4:function(){return l}});var r,i,o,a=e(4496),u=e(6117),c=e(3903),s=(r=(0,a.Z)(function(t){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return console.log("===params",t),[4,c.WY.get("/public/getCaptcha?sid=".concat(t))];case 1:return[2,n.sent()]}})}),function(t){return r.apply(this,arguments)}),l=(i=(0,a.Z)(function(t){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return[4,c.WY.post("/login/login",t)];case 1:return[2,n.sent()]}})}),function(t){return i.apply(this,arguments)}),d=(o=(0,a.Z)(function(t){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return[4,c.WY.post("/login/register",t)];case 1:return[2,n.sent()]}})}),function(t){return o.apply(this,arguments)})}}]);