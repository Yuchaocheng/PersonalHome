(self.webpackChunk_ice_lite_scaffold=self.webpackChunk_ice_lite_scaffold||[]).push([[473],{5766:function(t){t.exports={captcha:"captcha--VPzEWNNU"}},7916:function(t){t.exports={}},4143:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return b}});var n=r(2502),i=r(9129),o=r(3994),a=r(4041);r(7363);var s=r(4099),u=r.n(s),c=r(7916),l=r.n(c),d=r(3903),p=r(4447),f=r(4290),h=r(9528),g=r(4144),m=u().bind(l()),v=p.Form.Item,Z={labelCol:{fixedSpan:8},wrapperCol:{span:14}},y=function(){p.Notification.success({title:"\u6CE8\u518C\u6210\u529F",duration:1e3}),setTimeout(function(){null===d.m8||void 0===d.m8||d.m8.push("/portal/login")},1e3)};function b(t){var e=p.Field.useField(),r=(0,d.QT)(f.HE,{onSuccess:y,onError:function(t){p.Notification.error({title:"\u6CE8\u518C\u5931\u8D25",content:(null==t?void 0:t.errorMsg)||"\u6CE8\u518C\u5931\u8D25"}),t.data&&e.setErrors(t.data)}}).request,s=(0,o.Z)(h.Z.useModel("login"),1)[0];return(0,a.tZ)("div",{className:m("resigter"),children:(0,a.BX)(p.Form,(0,i.Z)((0,n.Z)({style:{width:"60%"}},Z),{colon:!0,field:e,children:[(0,a.tZ)(v,{name:"username",label:"\u7528\u6237\u540D",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",format:"email",children:(0,a.tZ)(p.Input,{})}),(0,a.tZ)(v,{name:"name",label:"\u6635\u79F0",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u6635\u79F0",children:(0,a.tZ)(p.Input,{})}),(0,a.tZ)(v,{name:"password",label:"\u5BC6\u7801",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801",validator:function(t,r,n){var i=e.getValue("password2");return i&&r!==i&&e.setError("password2","\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4"),n()},children:(0,a.tZ)(p.Input.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})}),(0,a.tZ)(v,{name:"password2",label:"\u786E\u8BA4\u5BC6\u7801",validator:function(t,r,n){var i=e.getValue("password");return i&&r!==i?n("\u4E24\u6B21\u8F93\u5165\u5BC6\u7801\u4E0D\u4E00\u81F4"):n()},required:!0,requiredMessage:"\u8BF7\u786E\u8BA4\u5BC6\u7801",children:(0,a.tZ)(p.Input.Password,{placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801"})}),(0,a.tZ)(v,{name:"captcha",label:"\u9A8C\u8BC1\u7801",required:!0,requiredMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",children:(0,a.tZ)(p.Input,{addonAfter:(0,a.tZ)(g.U,{})})}),(0,a.tZ)(v,{label:" ",colon:!1,children:(0,a.tZ)(p.Form.Submit,{type:"primary",validate:!0,onClick:function(t,e){e||(delete t.password2,r((0,i.Z)((0,n.Z)({},t),{sid:s.sid})))},children:"\u6CE8\u518C"})})]}))})}},4099:function(t,e,r){var n,i=r(4724).Z;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var a=void 0===n?"undefined":i(n);if("string"===a||"number"===a)t.push(this&&this[n]||n);else if(Array.isArray(n))t.push(o.apply(this,n));else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&t.push(this&&this[s]||s)}}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0!==(n=(function(){return o}).apply(e,[]))&&(t.exports=n)}()},4144:function(t,e,r){"use strict";r.d(e,{U:function(){return w}});var n,i=r(3994),o=r(4041),a=r(7363),s=r(4099),u=r.n(s),c=r(5766),l=r.n(c),d=r(3903),p=r(4290),f={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},h=new Uint8Array(16);function g(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(h)}for(var m=[],v=0;v<256;++v)m.push((v+256).toString(16).slice(1));var Z=function(t,e,r){if(f.randomUUID&&!e&&!t)return f.randomUUID();var n=(t=t||{}).random||(t.rng||g)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+"-"+m[t[e+4]]+m[t[e+5]]+"-"+m[t[e+6]]+m[t[e+7]]+"-"+m[t[e+8]]+m[t[e+9]]+"-"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase()}(n)},y=r(9528),b=u().bind(l()),w=function(t){var e=(0,d.QT)(p.an),r=e.data,n=e.request,s=e.refresh,u=(0,i.Z)(y.Z.useModel("login"),2),c=u[0],l=u[1];return(0,a.useEffect)(function(){var t=c.sid||localStorage.getItem("sid");t||(t=Z(),localStorage.setItem("sid",t)),t!==c.sid&&l.update({sid:t}),n(t)},[]),(0,o.tZ)("span",{className:b("captcha"),dangerouslySetInnerHTML:{__html:r},onClick:s})}},4290:function(t,e,r){"use strict";r.d(e,{HE:function(){return d},an:function(){return c},x4:function(){return l}});var n,i,o,a=r(4496),s=r(6117),u=r(3903),c=(n=(0,a.Z)(function(t){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return console.log("===params",t),[4,u.WY.get("/public/getCaptcha?sid=".concat(t))];case 1:return[2,e.sent()]}})}),function(t){return n.apply(this,arguments)}),l=(i=(0,a.Z)(function(t){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return[4,u.WY.post("/login/login",t)];case 1:return[2,e.sent()]}})}),function(t){return i.apply(this,arguments)}),d=(o=(0,a.Z)(function(t){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return[4,u.WY.post("/login/register",t)];case 1:return[2,e.sent()]}})}),function(t){return o.apply(this,arguments)})}}]);